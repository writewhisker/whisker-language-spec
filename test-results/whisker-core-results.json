{"summary":{"passed":250,"passRate":"100.0%","total":250,"failed":0},"categories":[{"tests":[{"expected":{"valid":true,"passages":1},"duration":0.203,"name":"syntax-passage-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.034,"name":"syntax-passage-underscore","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.032,"name":"syntax-passage-numbers","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":3},"duration":0.093,"name":"syntax-passage-multiple","actual":{"valid":true,"passages":3},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.023,"name":"syntax-passage-invalid-number-start","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.026,"name":"syntax-passage-invalid-space","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.025,"name":"syntax-passage-invalid-hyphen","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":2},"duration":0.043000000000001,"name":"syntax-passage-duplicate","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"passages":2},"duration":0.061,"name":"syntax-passage-case-sensitive","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.046,"name":"syntax-passage-long-name","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Hello."},"duration":0.025,"name":"syntax-comment-single-line","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Hello."},"duration":0.026,"name":"syntax-comment-multi-line","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"You have 100 gold."},"duration":0.054,"name":"syntax-comment-inline","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.038,"name":"syntax-comment-in-passage","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.025,"name":"syntax-comment-before-passage","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.023,"name":"syntax-comment-empty-single","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.04,"name":"syntax-comment-nested-invalid","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":false,"error":"Unterminated comment"},"duration":0.033,"name":"syntax-comment-unterminated","actual":{"valid":false,"error":"Unterminated block comment"},"passed":true},{"expected":{"valid":true,"variables":{"x":42}},"duration":0.034999999999999,"name":"syntax-number-integer","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":3.14159}},"duration":0.038000000000001,"name":"syntax-number-float","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":-42}},"duration":0.034999999999999,"name":"syntax-number-negative","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":0}},"duration":0.034,"name":"syntax-number-zero","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"variables":{"name":"Alice"},"valid":true,"output":"Hello, Alice!"},"duration":0.051,"name":"syntax-string-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"name":""}},"duration":0.039,"name":"syntax-string-empty","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"text":"She said \"Hello\""}},"duration":0.04,"name":"syntax-string-escape-quote","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.031,"name":"syntax-string-escape-newline","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.04,"name":"syntax-string-escape-backslash","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"flag":true}},"duration":0.025,"name":"syntax-boolean-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"flag":false}},"duration":0.025,"name":"syntax-boolean-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":false,"error":"Unterminated string"},"duration":0.017000000000001,"name":"syntax-string-unterminated","actual":{"valid":false,"error":"Unterminated string"},"passed":true},{"expected":{"valid":true,"variables":{"x":8}},"duration":0.025,"name":"syntax-operator-add","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":6}},"duration":0.025,"name":"syntax-operator-subtract","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":42}},"duration":0.025,"name":"syntax-operator-multiply","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":5}},"duration":0.035,"name":"syntax-operator-divide","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":2}},"duration":0.025,"name":"syntax-operator-modulo","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":false}},"duration":0.029,"name":"syntax-operator-and","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":true}},"duration":0.029,"name":"syntax-operator-or","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":false}},"duration":0.026,"name":"syntax-operator-not","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":true}},"duration":0.033,"name":"syntax-operator-equal","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":true}},"duration":0.025000000000001,"name":"syntax-operator-not-equal","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":14}},"duration":0.026999999999999,"name":"syntax-operator-precedence","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":20}},"duration":0.028,"name":"syntax-operator-parentheses","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"  Indented text."},"duration":0.027,"name":"syntax-whitespace-indent","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.045,"name":"syntax-whitespace-blank-lines","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.047999999999999,"name":"syntax-whitespace-tabs","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.04,"name":"syntax-whitespace-trailing","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":8}},"duration":0.024000000000001,"name":"syntax-whitespace-around-operators","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.034,"name":"syntax-whitespace-passage-header","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.04,"name":"syntax-whitespace-only-line","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.021,"name":"syntax-whitespace-crlf","actual":{"valid":true,"passages":1},"passed":true}],"total":50,"passed":50,"failed":0,"category":"syntax"},{"tests":[{"expected":{"variables":{"gold":100},"valid":true,"output":"You have 100 gold."},"duration":0.052,"name":"var-declare-implicit","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"gold":100,"name":"Hero"}},"duration":0.059,"name":"var-declare-header","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"variables":{"c":3,"b":2,"a":1},"valid":true,"output":"Sum: 6"},"duration":0.054999999999999,"name":"var-declare-multiple","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"variables":{"x":20},"valid":true,"output":"Value: 20"},"duration":0.054999999999999,"name":"var-declare-reassign","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.031,"name":"var-declare-invalid-name","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.025000000000001,"name":"var-declare-reserved-prefix","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.033,"name":"var-undefined-access","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.04,"name":"var-declare-order","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":42}},"duration":0.026,"name":"var-type-number-int","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":3.14}},"duration":0.040999999999999,"name":"var-type-number-float","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"name":"Alice"}},"duration":0.031999999999999,"name":"var-type-string","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"flag":true}},"duration":0.026,"name":"var-type-boolean-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"flag":false}},"duration":0.024,"name":"var-type-boolean-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.042,"name":"var-type-mismatch-add","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":"Hello World"}},"duration":0.054,"name":"var-type-concat","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":0.3}},"duration":0.047,"name":"var-type-number-precision","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.030000000000001,"name":"var-type-large-number","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_next":"Gold: 100"},"duration":0.204,"name":"var-scope-story","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"output":"Temp: 50"},"duration":0.042,"name":"var-scope-temp-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":2},"duration":0.069,"name":"var-scope-temp-cleared","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.035,"name":"var-scope-shadow-invalid","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_next":"Value: 20"},"duration":0.086999999999999,"name":"var-scope-temp-same-name-different-passages","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"variables":{"gold":150}},"duration":0.068,"name":"var-scope-story-modify-from-passage","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"variables":{"final":125,"base":100}},"duration":0.067999999999999,"name":"var-scope-temp-calculation","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.036000000000001,"name":"var-scope-temp-prefix-only","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Hello, Alice!"},"duration":0.042,"name":"var-interp-simple","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Count: 42"},"duration":0.045999999999999,"name":"var-interp-number","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Sum: 15"},"duration":0.044000000000001,"name":"var-interp-expression","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Double: 200"},"duration":0.037000000000001,"name":"var-interp-complex-expr","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Name: JohnDoe"},"duration":0.055999999999999,"name":"var-interp-adjacent","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"The price is $50."},"duration":0.032000000000001,"name":"var-interp-escaped","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"greeting":"Hello, $name!"}},"duration":0.056,"name":"var-interp-in-string","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Result: 16"},"duration":0.035,"name":"var-interp-nested-braces","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.025000000000001,"name":"var-interp-function-call","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Flag: true"},"duration":0.035,"name":"var-interp-boolean","actual":{"valid":true,"passages":1},"passed":true}],"total":35,"passed":35,"failed":0,"category":"variables"},{"tests":[{"expected":{"valid":true,"output":"Shown."},"duration":0.061,"name":"cond-block-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"After."},"duration":0.076000000000001,"name":"cond-block-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"False branch."},"duration":0.083,"name":"cond-block-else","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Two."},"duration":0.115,"name":"cond-block-elif","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"B"},"duration":0.139,"name":"cond-block-elif-chain","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Both true."},"duration":0.094,"name":"cond-block-nested","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"All true."},"duration":0.13,"name":"cond-block-nested-deep","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Less."},"duration":0.068,"name":"cond-block-comparison-lt","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"GTE."},"duration":0.059,"name":"cond-block-comparison-gte","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Both."},"duration":0.075,"name":"cond-block-logical-and","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Either."},"duration":0.076,"name":"cond-block-logical-or","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Negated."},"duration":0.073999999999999,"name":"cond-block-logical-not","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Allowed."},"duration":0.093000000000001,"name":"cond-block-complex-expr","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.038999999999999,"name":"cond-block-unclosed","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.028,"name":"cond-block-orphan-close","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"The door is open."},"duration":0.062,"name":"cond-inline-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"The door is closed."},"duration":0.072000000000001,"name":"cond-inline-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"You have enough gold."},"duration":0.068,"name":"cond-inline-comparison","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Status: AY"},"duration":0.080999999999999,"name":"cond-inline-multiple","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"You have 1 item."},"duration":0.063000000000001,"name":"cond-inline-with-variable","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"5 apples"},"duration":0.065000000000001,"name":"cond-inline-pluralize","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Option A | more"},"duration":0.061,"name":"cond-inline-escaped-pipe","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.073,"name":"cond-inline-nested-invalid","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.040999999999999,"name":"cond-inline-missing-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Result: "},"duration":0.052,"name":"cond-inline-empty-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Result: "},"duration":0.061,"name":"cond-inline-empty-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.049,"name":"cond-inline-in-choice","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Falsy."},"duration":0.072000000000001,"name":"cond-truthy-number-zero","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Truthy."},"duration":0.072000000000001,"name":"cond-truthy-number-nonzero","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Falsy."},"duration":0.076,"name":"cond-truthy-string-empty","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Truthy."},"duration":0.088000000000001,"name":"cond-truthy-string-nonempty","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Truthy."},"duration":0.055999999999999,"name":"cond-truthy-boolean-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Falsy."},"duration":0.074000000000001,"name":"cond-truthy-boolean-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Truthy."},"duration":0.054,"name":"cond-truthy-negative","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Short-circuited."},"duration":0.116,"name":"cond-short-circuit-and","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"  Indented content."},"duration":0.060999999999999,"name":"cond-whitespace-preserve","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.072000000000001,"name":"cond-whitespace-blank-lines","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Content."},"duration":0.059,"name":"cond-whitespace-around-markers","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"yes"},"duration":0.051000000000001,"name":"cond-whitespace-inline","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"After."},"duration":0.063000000000001,"name":"cond-empty-block","actual":{"valid":true,"passages":1},"passed":true}],"total":40,"passed":40,"failed":0,"category":"conditionals"},{"tests":[{"expected":{"valid":true,"choices":1},"duration":0.074999999999999,"name":"choice-basic","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"choices":3},"duration":0.088000000000001,"name":"choice-multiple","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.116,"name":"choice-once-only","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.099999999999999,"name":"choice-sticky","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.039000000000001,"name":"choice-missing-target","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.039999999999998,"name":"choice-invalid-target","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.032000000000001,"name":"choice-special-end","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.136,"name":"choice-special-back","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.038,"name":"choice-special-restart","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choice_text":"Take the sword"},"duration":0.054999999999999,"name":"choice-text-interpolation","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choices":1},"duration":0.053999999999998,"name":"choice-condition-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"choices":1,"valid":true,"choice_text":"Leave"},"duration":0.09,"name":"choice-condition-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choices":1},"duration":0.063999999999998,"name":"choice-condition-comparison","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choices":1},"duration":0.076,"name":"choice-condition-complex","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.052,"name":"choice-condition-and-once","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choices":0},"duration":0.068000000000002,"name":"choice-all-hidden","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.104,"name":"choice-condition-visit","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.042999999999998,"name":"choice-condition-invalid","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.088000000000001,"name":"choice-condition-sticky","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choices":1},"duration":0.062,"name":"choice-condition-negation","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.060999999999999,"name":"choice-action-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.067999999999999,"name":"choice-action-multiple","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.057000000000001,"name":"choice-action-set-variable","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.057000000000001,"name":"choice-action-modify-variable","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.073,"name":"choice-action-with-condition","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_next":"Action executed."},"duration":0.114,"name":"choice-action-order","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.047999999999999,"name":"choice-action-invalid-syntax","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.040999999999999,"name":"choice-action-empty","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.056,"name":"choice-action-lua","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.098000000000001,"name":"choice-full-syntax","actual":{"valid":true,"passages":1},"passed":true}],"total":30,"passed":30,"failed":0,"category":"choices"},{"tests":[{"expected":{"output_visit_1":"First","output_visit_3":"Third","valid":true,"output_visit_2":"Second"},"duration":0.080999999999998,"name":"alt-sequence-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_4":"C","valid":true,"output_visit_5":"C"},"duration":0.060999999999999,"name":"alt-sequence-stops","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Only option"},"duration":0.033000000000002,"name":"alt-sequence-single","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_2":""},"duration":0.040999999999999,"name":"alt-sequence-empty-option","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_1":"Hello there"},"duration":0.058000000000002,"name":"alt-sequence-multiword","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_1":"Hello Hero"},"duration":0.078999999999999,"name":"alt-sequence-with-variables","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_1":"A and X","valid":true,"output_visit_2":"B and Y"},"duration":0.091999999999998,"name":"alt-sequence-multiple-per-passage","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_3":"Blue","output_visit_2":"Green","output_visit_4":"Red","valid":true,"output_visit_1":"Red"},"duration":0.068000000000002,"name":"alt-cycle-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_3":"Yes"},"duration":0.057999999999999,"name":"alt-cycle-two-options","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.076,"name":"alt-cycle-long","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_1":"The light is red."},"duration":0.069999999999997,"name":"alt-cycle-with-text","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_1":"A X","output_visit_3":"A Z","valid":true,"output_visit_2":"B Y"},"duration":0.064999999999999,"name":"alt-cycle-independent","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.046000000000001,"name":"alt-shuffle-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.062999999999997,"name":"alt-shuffle-distribution","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"only"},"duration":0.032000000000001,"name":"alt-shuffle-single","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.077999999999998,"name":"alt-shuffle-in-sentence","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.069000000000003,"name":"alt-shuffle-multiple","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_3":"Third","output_visit_2":"Second","output_visit_4":"","valid":true,"output_visit_1":"First"},"duration":0.069999999999997,"name":"alt-once-basic","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_3":"Hint: "},"duration":0.078000000000002,"name":"alt-once-exhausted","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_1":"Only shown once","valid":true,"output_visit_2":""},"duration":0.056999999999998,"name":"alt-once-single","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_1":"(First visit)The room is quiet."},"duration":0.071999999999999,"name":"alt-once-in-sentence","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"output_visit_1":"New:  Welcome","valid":true,"output_visit_2":" Hello"},"duration":0.057000000000001,"name":"alt-once-with-sequence","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":""},"duration":0.031,"name":"alt-empty-options","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_visit_1":"A | B"},"duration":0.040000000000002,"name":"alt-escaped-pipe","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.038,"name":"alt-in-choice-text","actual":{"valid":true,"passages":1},"passed":true}],"total":25,"passed":25,"failed":0,"category":"alternatives"},{"tests":[{"expected":{"valid":true,"output":"Value: 100"},"duration":0.076,"name":"api-state-get","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"variables":{"gold":200},"valid":true,"output":"Value: 200"},"duration":0.058000000000002,"name":"api-state-set","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Has gold: true"},"duration":0.062,"name":"api-state-has-true","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Has gold: false"},"duration":0.050000000000001,"name":"api-state-has-false","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Has: false"},"duration":0.091000000000001,"name":"api-state-delete","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.202,"name":"api-state-all","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Has: false"},"duration":0.084000000000001,"name":"api-state-reset","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Value: nil"},"duration":0.073,"name":"api-state-get-nil","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Passage: Start"},"duration":0.047999999999999,"name":"api-passage-current","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"found":true}},"duration":0.134,"name":"api-passage-get","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"output":"Exists: true\nMissing: false"},"duration":0.104,"name":"api-passage-exists","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.071999999999999,"name":"api-passage-go","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.047999999999999,"name":"api-passage-tags","actual":{"valid":true,"passages":3},"passed":true},{"expected":{"valid":true},"duration":0.069,"name":"api-history-back","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"output":"Can go back: false"},"duration":0.047999999999999,"name":"api-history-canBack","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_next":"History: 1"},"duration":0.088000000000001,"name":"api-history-count","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"output_next":"Was at Start: true"},"duration":0.085999999999999,"name":"api-history-contains","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"output_visit_1":"Visits: 1","valid":true,"output_visit_2":"Visits: 2"},"duration":0.062,"name":"api-visited-current","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output_other":"Start visits: 1"},"duration":0.081999999999999,"name":"api-visited-other","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.054999999999999,"name":"api-random","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.064000000000002,"name":"api-pick","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Content."},"duration":0.054000000000002,"name":"api-print","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":8}},"duration":0.039000000000001,"name":"api-lua-inline","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Sum: 30"},"duration":0.099999999999999,"name":"api-lua-block","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Upper: HELLO\nFloor: 3"},"duration":0.087999999999998,"name":"api-lua-stdlib","actual":{"valid":true,"passages":1},"passed":true}],"total":25,"passed":25,"failed":0,"category":"api"},{"tests":[{"expected":{"valid":true,"passages":1},"duration":0.036000000000001,"name":"format-text-minimal","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"metadata":{"author":"Test Author","version":"1.0.0","title":"Test Story"},"valid":true},"duration":0.050000000000001,"name":"format-text-header","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"name":"Hero","gold":100,"active":true}},"duration":0.069,"name":"format-text-vars-block","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passage_tags":["chapter1","intro"]},"duration":0.045,"name":"format-text-passage-directives","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.035,"name":"format-text-lifecycle-scripts","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.050000000000001,"name":"format-text-utf8","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"start_passage":"Intro"},"duration":0.059,"name":"format-text-start-directive","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true,"passages":0},"duration":0.0019999999999985,"name":"format-text-empty-file","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.0019999999999985,"name":"format-json-minimal","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.0029999999999995,"name":"format-json-full","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.0029999999999995,"name":"format-json-missing-format","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.002000000000002,"name":"format-json-invalid-format","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.0029999999999995,"name":"format-json-choice-object","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.0019999999999985,"name":"format-json-variable-types","actual":{"valid":true,"passages":0},"passed":true},{"expected":{"valid":true},"duration":0.0019999999999985,"name":"format-json-type-mismatch","actual":{"valid":true,"passages":0},"passed":true}],"total":15,"passed":15,"failed":0,"category":"formats"},{"tests":[{"expected":{"valid":true},"duration":0.036999999999999,"name":"edge-empty-passage","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.022999999999999,"name":"edge-no-choices","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.078999999999999,"name":"edge-many-passages","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.043999999999999,"name":"edge-long-content","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Ten levels deep."},"duration":0.311,"name":"edge-deep-nesting","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"choices":20},"duration":0.441,"name":"edge-many-choices","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.074999999999999,"name":"edge-many-variables","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.026999999999999,"name":"edge-long-variable-name","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.071000000000002,"name":"edge-long-passage-name","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"こんにちは"},"duration":0.038,"name":"edge-unicode-identifiers","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.031,"name":"edge-special-chars-content","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Price: $100"},"duration":0.028,"name":"edge-escaped-dollar","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Code: { and }"},"duration":0.033000000000002,"name":"edge-escaped-braces","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Path: C:\\folder\\file"},"duration":0.029000000000001,"name":"edge-escaped-backslash","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Empty: \"\""},"duration":0.040000000000002,"name":"edge-empty-string","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"He said \"Hello\""},"duration":0.042,"name":"edge-string-with-quotes","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.031999999999997,"name":"edge-newline-in-string","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.031,"name":"edge-tab-in-string","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Falsy."},"duration":0.178,"name":"edge-number-zero","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Value: -42"},"duration":0.035999999999998,"name":"edge-number-negative","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.029000000000001,"name":"edge-number-decimal","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"variables":{"x":2.5}},"duration":0.024999999999997,"name":"edge-division-result","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.025000000000001,"name":"edge-division-by-zero","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"passages":1},"duration":0.025000000000001,"name":"edge-modulo-zero","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.117,"name":"edge-self-reference","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.060999999999999,"name":"edge-circular-reference","actual":{"valid":true,"passages":2},"passed":true},{"expected":{"valid":true},"duration":0.057999999999999,"name":"edge-exhausted-choices","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true},"duration":0.035,"name":"edge-choice-self-target","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"After."},"duration":0.050999999999999,"name":"edge-empty-condition","actual":{"valid":true,"passages":1},"passed":true},{"expected":{"valid":true,"output":"Only"},"duration":0.047000000000002,"name":"edge-alternative-single-visit","actual":{"valid":true,"passages":1},"passed":true}],"total":30,"passed":30,"failed":0,"category":"edge-cases"}],"timestamp":"2025-12-31T23:41:58Z","platform":"whisker-core"}